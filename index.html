<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <title>Englannin sanakoe - harjoittelu</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      max-width: 600px;
      margin: 2rem auto;
      line-height: 1.5;
    }
    #card {
      border: 1px solid #ccc;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    }
    .question-label {
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 0.25rem;
    }
    .question {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }
    input[type="text"] {
      width: 100%;
      font-size: 1.2rem;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      border: 1px solid #999;
    }
    input[type="text"]:focus {
      outline: 2px solid #000;
    }
    button {
      margin-top: 1rem;
      font-size: 1rem;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      border: 1px solid #000;
      background: #000;
      color: #fff;
      cursor: pointer;
    }
    button:active {
      transform: scale(0.98);
    }
    #result {
      margin-top: 1rem;
      min-height: 2rem;
      font-size: 1.1rem;
      font-weight: 500;
    }
    #stats {
      margin-top: 1rem;
      font-size: 0.95rem;
      color: #333;
    }
    .ok {
      color: green;
    }
    .bad {
      color: red;
    }
  </style>
</head>
<body>
  <h1>Englannin sanakoe - harjoittelu</h1>
  <p>
    Vastaa ja paina Tarkista. Sivusto arpoo kysymyksiä loputtomasti.
    Näet suomenkielisen käännöksen ja sinun pitää kirjoittaa sitä vastaava **englanninkielinen sana tai lause tismalleen oikein** (kuten luettelossa).
  </p>
  <div id="card">
    <div class="question-label" id="qLabel">Kirjoita englanniksi:</div>
    <div class="question" id="questionText">---</div>
    <label for="answerInput">Vastaus:</label>
    <input id="answerInput" type="text" autocomplete="off" />
    <button id="checkBtn">Tarkista</button>
    <div id="result"></div>
    <div id="stats"></div>
  </div>
  <script>
    // Kuvasta poimitut englannin sanat/lauseet ja niiden suomenkieliset käännökset
    const vocabulary = [
      { fi: "lippu", en: "a ticket" },
      { fi: "istuin, paikka", en: "a seat" },
      { fi: "ravintolavaunu", en: "a dining car" },
      { fi: "ensiapupakkaus", en: "a first-aid kit" },
      { fi: "käymälä, wc", en: "a restroom, a toilet" },
      { fi: "minun syyni", en: "my fault" },
      { fi: "muut matkustajat", en: "other passengers" },
      { fi: "seuraava asema", en: "the next station" },
      { fi: "tilan puute", en: "a lack of room" },
      { fi: "kurja alku", en: "a miserable beginning" },
      { fi: "iso yllätys", en: "a big surprise" },
      { fi: "kahden ja puolen päivän junamatka", en: "a two-and-a-half-day train journey" },
      { fi: "kuulua tanssiryhmään", en: "belong to a dance group" },
      { fi: "päättää pitää yhden yön pysähdys", en: "decide to have a one-night stopover" },
      { fi: "Älä syytä minua!", en: "Don't blame me!" },
      { fi: "esiintyä kaduilla", en: "perform on the streets" },
      { fi: "olla samaa mieltä Leen kanssa", en: "agree with Lee" },
      { fi: "matkustaa bussilla", en: "travel by bus" },
      { fi: "vaihtaa junaa", en: "change trains" },
      { fi: "jäädä pois junasta", en: "get off the train" },
      { fi: "varata huone", en: "reserve a room" },
      { fi: "jakaa huone", en: "share a room" },
      { fi: "vahingoittaa ympäristöä", en: "harm the environment" },
      { fi: "polttaa polttoainetta", en: "burn fuel" },
      { fi: "nyrjäyttää nilkan", en: "sprain an ankle" },
      { fi: "ottaa osaa tapahtumaan", en: "take part in an event" },
      { fi: "sairastua", en: "get sick" },
      { fi: "kuluttaa rahaa", en: "spend money" },
      { fi: "vilkaista", en: "have a look" },
    ];
    // tilastot
    let correctCount = 0;
    let totalCount = 0;
    // nykyinen kysymys
    let currentVocab = null; 
    
    // apu satunnaiseen kokonaislukuun väliltä [min, max]
    function randInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    
    // Luo uusi kysymys
    function newQuestion() {
      // Arvo satunnainen indeksi sanastosta
      const index = randInt(0, vocabulary.length - 1);
      currentVocab = vocabulary[index];
      
      // Kysymys on aina suomi -> englanti
      document.getElementById("qLabel").textContent = "Kirjoita englanniksi:";
      document.getElementById("questionText").textContent = currentVocab.fi;
      
      // tyhjennä kenttä ja palaute
      const ans = document.getElementById("answerInput");
      ans.value = "";
      ans.focus();
      document.getElementById("result").textContent = "";
    }
    
    // Tarkista vastaus
    function checkAnswer() {
      const userRaw = document.getElementById("answerInput").value.trim();
      const correctAnswer = currentVocab.en;
      
      // Tarkistetaan vastaus: täytyy olla täsmälleen oikein
      // (huomioimatta isoja/pieniä kirjaimia alkuperäisessä koodissa olleen logiikan mukaan)
      const ok = (userRaw.toLowerCase() === correctAnswer.toLowerCase());
      
      totalCount += 1;
      if (ok) {
        correctCount += 1;
        document.getElementById("result").innerHTML =
          "<span class='ok'>Oikein.</span>";
      } else {
        document.getElementById("result").innerHTML =
          "<span class='bad'>Väärin.</span> Oikea vastaus: " + correctAnswer;
      }
      
      document.getElementById("stats").textContent =
        "Pisteet: " + correctCount + " / " + totalCount;
      
      // Uusi kysymys heti
      newQuestion();
    }
    
    // Nappi
    document.getElementById("checkBtn").addEventListener("click", checkAnswer);
    
    // Enter-näppäin vastaa nappia
    document
      .getElementById("answerInput")
      .addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
          e.preventDefault();
          checkAnswer();
        }
      });
      
    // Käynnistä ensimmäinen kysymys
    newQuestion();
  </script>
</body>
</html>
